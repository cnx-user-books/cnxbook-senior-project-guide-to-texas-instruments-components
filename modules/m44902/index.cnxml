<document xmlns="http://cnx.rice.edu/cnxml">
  <title>Overview of the ARM Embedded Processors from Texas Instruments</title>
<metadata xmlns:md="http://cnx.rice.edu/mdml">
  <md:content-id>m44902</md:content-id>
  <md:title>Overview of the ARM Embedded Processors from Texas Instruments</md:title>
  <md:abstract>This module is a brief overview of ARM architectures from Texas Instruments, including a guide on how to select the ARM architecture that is right for your application and a deep dive into the Stellaris® ARM Cortex-M architecture.</md:abstract>
  <md:uuid>03461383-e9e5-4616-9410-6ae5d37dd995</md:uuid>
</metadata>

<content>
    <para id="import-auto-id1170836370805"><emphasis effect="bold">ARM embedded processors – selecting the right one </emphasis>
    </para><para id="import-auto-id1170828346141">ARM embedded processors are ubiquitous. With the vast number of ARM-based processors available, selecting the right one for a senior project can seem daunting. This chapter will help you select the right TI ARM processor. </para><para id="import-auto-id1170834437837">At a high level, ARM embedded processors can be split into three tiers of performance: the Cortex-A, -R and –M series. </para><para id="import-auto-id1170826577096"><emphasis effect="bold">ARM Cortex-A microprocessors</emphasis>
    </para><list id="import-auto-id1170828153487" list-type="bulleted"><item>Highest-performance microprocessors/use external memory.</item>
      <item>For use with a complex operating system.</item>
      <item>Applications: <list id="import-auto-id1170827491987" list-type="bulleted"><item>Computing, enterprise, handset, digital home, industrial, wireless infrastructure [<link url="http://www.arm.com/products/processors/cortex-a/index.php"><emphasis effect="underline">http://www.arm.com/products/processors/cortex-a/index.php</emphasis></link>].</item></list>.</item>
      <item>Author's note:<list id="import-auto-id1170828869478" list-type="bulleted" bullet-style="none"><item>Use a Cortex-A device if you: <list id="import-auto-id1170836006916" list-type="bulleted" bullet-style="dash"><item>Are ready and willing to develop high-complexity software for your application, including running, debugging and compiling high-level operating systems like Windows, Linux or Android. </item><item>Are using the microprocessor to program a user interface larger than 7 inches, or wish to display any kind of streaming video on any size display.</item><item>You wish to program a field bus protocol.</item></list></item><item>If you are interested in working with a Cortex-A device from TI, see the BeagleBone website at <link url="http://beagleboard.org/bone/"><emphasis effect="underline">http://beagleboard.org/bone/</emphasis>.</link></item></list></item>
    </list><para id="import-auto-id1170827336550"><emphasis effect="bold">ARM Cortex-R microcontrollers</emphasis>
    </para><list id="import-auto-id1170827035955" list-type="bulleted"><item>Medium-performance real-time microcontrollers/use integrated memory.</item>
      <item>Designed for safety- and life-critical applications with precise real-time requirements.</item>
      <item>Applications: <list id="import-auto-id1170827052795" list-type="bulleted"><item>Storage, enterprise, digital home, cameras, medical, industrial, automotive [<link url="http://www.arm.com/products/processors/cortex-r/index.php"><emphasis effect="underline">http://www.arm.com/products/processors/cortex-r/index.php</emphasis></link>].</item></list></item>
      <item>Author's note:<list id="import-auto-id1170836813826" list-type="bulleted" bullet-style="none"><item>Use a Cortex-R device if you:<list id="import-auto-id1170825878843" list-type="bulleted" bullet-style="dash"><item>Are ready and willing to develop medium-complexity software, especially if you are interested in safety-critical embedded software development.</item><item>Want to develop a real transportation or safety application.</item></list></item><item>If you are interested in working with a Cortex-R device from TI, see the TMS570 microcontroller USB kit website at <link url="http://www.ti.com/tool/tmdx570ls20susb"><emphasis effect="underline">http://www.ti.com/tool/tmdx570ls20susb</emphasis>.</link></item></list></item>
    </list><para id="import-auto-id1170832861391"><emphasis effect="bold">ARM Cortex-M microcontrollers </emphasis>
    </para><list id="import-auto-id1170835318695" list-type="bulleted"><item>Lowest-power microcontrollers/use integrated memory.</item>
      <item>Designed for cost- and power-sensitive applications.</item>
      <item>Applications: <list id="import-auto-id1170835026501" list-type="bulleted"><item>Smart metering, human interface, industrial, white goods, consumer, portable medical [<link url="http://www.arm.com/products/processors/cortex-a/index.php"><emphasis effect="underline">http://www.arm.com/products/processors/cortex-a/index.php</emphasis></link>].</item></list>.</item>
      <item>Author's note:<list id="import-auto-id1170838616321" list-type="bulleted" bullet-style="none"><item>Use a Cortex-M device if you: <list id="import-auto-id1170826852192" list-type="bulleted" bullet-style="dash"><item>Are interested in the lowest-complexity solution for your application.</item><item>Can meet the needs of your application with 150 MHz or less and without a multithreaded OS running in the system.</item><item>Are looking for the smallest, least-expensive or lowest-power ARM device.</item></list></item><item>If you are interested in working with a Cortex-M device from TI, visit the Stellaris® LaunchPad™ development tool website at <link url="http://www.ti.com/stellaris-launchpad"><emphasis effect="underline">http://www.ti.com/stellaris-launchpad</emphasis>.</link></item></list></item></list><para id="import-auto-id1170838483254">TI's ARM-based platforms (as of August 2012) are outlined in Figure 1. </para><figure id="import-auto-id1170827771894"><media id="import-auto-id1170826596219" alt="">
        <image mime-type="image/jpg" src="../../media/Picture 0-3544.jpg" height="431" width="620"/>
      </media>
    </figure><para id="import-auto-id1170829673696"><emphasis effect="bold">Stellaris microcontrollers.</emphasis> Offering performance up to 80 MHz and a high degree of connectivity and analog integration to the microcontroller markets, Stellaris MCUs are ideal for applications that require memory, analog components and communications interfaces to be on a single chip within a compact package.</para><para id="import-auto-id1170836787885"><emphasis effect="bold">Concerto™ microcontrollers.</emphasis> Concerto F28M35x microcontrollers combine TI’s performance C28x™ core and control peripherals with an ARM Cortex-M3 core and connectivity peripherals to deliver a clearly partitioned architecture that supports real-time control and advanced connectivity in a single MCU. </para><para id="import-auto-id1170826758410"><emphasis effect="bold">Hercules™ microcontrollers.</emphasis> For high-reliability applications such as transportation, the TMS570 provides DSP-like performance with safety-critical features implemented in hardware to ensure continuous and uninterrupted operation. The TMS570 has a dual-core architecture, with the second core running in lockstep for redundancy and self-checking.</para><para id="import-auto-id1170838292514"><emphasis effect="bold">Sitara™ microprocessors.</emphasis> Offering performance up to 1.5 GHz, Sitara ARM MPUs are ideal for applications needing a high-level operating system, wired and wireless network connectivity, concurrent applications, and support for rich graphics with an advanced user interface. </para><para id="import-auto-id1170832027749"><emphasis effect="bold">OMAP™ multicore microprocessors.</emphasis> The OMAP platform for digital media processing brings together an ARM core with advanced video acceleration, plus a high-performance C6000™ DSP for applications that need to support real-time video, image and audio data processing. With the ability to provide computationally intensive real-time signal-processing performance, developers can implement complex applications such as video analytics, speech recognition, baseband channel management and power monitoring with a single chip.</para><para id="import-auto-id1170830865494"><emphasis effect="bold">Deep dive into Cortex-M – Stellaris ARM Cortex-M4F </emphasis>
    </para><para id="import-auto-id1170834428226">Stellaris microcontrollers (MCUs) are 32-bit, RISC-based mixed-signal processors designed specifically for ease of use and connectivity. Common applications include end-equipment in the computing, industrial and smart grid markets. </para><para id="import-auto-id1170830261693">To get a better idea of what Stellaris MCUs are and how they can be used to solve an application problem, let’s take a look at a typical block diagram for the device. Figure 2 shows the block diagram for the LM4F232H5, one of the LM4F devices. </para><figure id="import-auto-id1170835023874"><media id="import-auto-id2761555" alt="">
        <image mime-type="image/jpg" src="../../media/graphics1-3525.jpg" height="437" width="357"/>
      </media>
    </figure><para id="import-auto-id1170826980320">The block diagram provides guidance on the key features of a particular device. Let’s take a closer look at some of the more prominent features. (Most of this section is transcribed from the LM4F232H5QC data sheet, available at <link url="http://www.ti.com/lit/gpn/lm4f232h5qc"><emphasis effect="underline">http://www.ti.com/lit/gpn/lm4f232h5qc</emphasis>.</link>)</para><list id="import-auto-id1170838214855" list-type="bulleted" bullet-style="bullet"><item>Integrated memory:  <list id="import-auto-id1170830969974" list-type="bulleted" bullet-style="dash"><item>Includes both volatile (RAM) and nonvolatile (flash, EEPROM) memories.</item><item>EEPROM supports an endurance of up to 500,000 writes.</item><item>Read-only memory (ROM) includes the software libraries used to program peripherals.</item></list></item>
      <item>Analog: <list id="import-auto-id1170827795871" list-type="bulleted" bullet-style="dash"><item>ADC: two 12-bit SAR ADCs, each with up to 12 channels of single- or dual-ended inputs.</item><item>Comparators: three analog comparators, each with two.</item></list></item>
      <item>Serial communications peripherals – both synchronous and asynchronous: <list id="import-auto-id1879950" list-type="bulleted" bullet-style="dash"><item>Two controller area network (CAN) 2.0 A/B controllers.</item><item>USB 2.0 controller, supporting USB On-the-Go, host and device modes.</item><item>Eight universal asynchronous receiver/transmitter (UART) modules, capable of infrared data (IrDA), 9-bit and ISO 7816 modes.</item><item>Six inter-integrated circuit (I2C) modules.</item><item>Four serial peripheral interface (SPI) modules.</item></list></item>
      <item>Motion control:<list id="import-auto-id1170827157300" list-type="bulleted" bullet-style="dash"><item>Two PWM modules, with a total of 16 advanced PWM outputs for motion and energy applications.</item><item>Eight fault inputs to promote low-latency shutdown.</item><item>Two quadrature encode inputs (QEIs).</item></list></item>
      <item>GPIOs: <list id="import-auto-id1170826786438" list-type="bulleted" bullet-style="dash"><item>The 64-LQFP has a maximum of 43 GPIOs; the 100-LQFP package has a maximum of 69 GPIOs; the 144-LQFP has a maximum of 105 GPIOs.</item><item>All pins have configurable pullup and pulldown resistors.</item></list></item>
      <item>Timers: <list id="import-auto-id1170827104524" list-type="bulleted" bullet-style="dash"><item>Systick timer – A 24-bit system timer.</item><item>Twelve general-purpose timers – each 32 bits, with up to two capture/compare inputs.</item><item>Two watchdog timers – each 32 bits.</item></list></item>
      <item>Hibernation module (HIB): <list id="import-auto-id1170835739411" list-type="bulleted" bullet-style="dash"><item>In HIB mode, power supplies are turned off to the main part of the microcontroller and only the hibernation module circuitry is active. An external wake event or RTC event is required to bring the microcontroller back to run mode.</item></list></item>
      <item>Oscillators:<list id="import-auto-id1170838610457" list-type="bulleted" bullet-style="dash"><item>Precision internal oscillator (PIOSC) – on-chip oscillator; operates at 16 MHz ±1 percent at room temperature.</item><item>Main oscillator (MOSC) – connection for a single-ended clock source to OSC0 or a high-frequency external crystal [5-25 MHz].</item><item>Hibernation module clock source – connection for a 32.758-kHz oscillator.</item></list></item>
      <item>CPU and debugging capabilities:<list id="import-auto-id1170832237238" list-type="bulleted" bullet-style="dash"><item>80 MHz is the maximum CPU clock speed for the LM4F232.</item><item>Other core modules: <list id="import-auto-id1170827982035" list-type="bulleted" bullet-style="none"><item>Nested vector interrupt controller (NVIC) – provides programmable interrupt priority and low-latency interrupt handling, including automatic nesting of interrupts.</item><item>Memory protection unit (MPU) – divides the memory map into a number of regions and defines the location, size, access permissions and memory attributes of each region.</item><item>Floating-point unit (FPU) – supports single-precision add, subtract, multiply, divide, multiply and accumulate, and square-root operations. It also provides conversions between fixed- and floating-point data formats.</item></list></item><item>Debugging modules:<list id="import-auto-id1170834911082" list-type="bulleted" bullet-style="none"><item>Joint Test Action Group (JTAG) port – an IEEE-standard, four-pin debugging interface used to communicate with the LM4F232 during debugging. </item><item>Single-wire debugging/test (SWD/T) port – an ARM-standard two-pin debugging port, provided as an alternative to JTAG.</item><item>Embedded trace module (ETM) – a real-time trace module providing instruction and data tracing of the Cortex-M4F core.</item> <item>Author’s note: Leveraging the ETM requires the use of a nonstandard debugging tool as well as hardware that supports an ETM connection. Although the debugging tools exist, no hardware that supports an ETM connection is available as of September 2012. See <link url="http://www.ti.com/stellaris"><emphasis effect="underline">www.ti.com/stellaris</emphasis></link> for any updates on the LM4F kits that are available.</item></list></item></list></item>
    </list><para id="import-auto-id1170827549134">Each of these modules is brought out through pins on a package. In the case of the LM4F232H5QC, the pin diagram is shown in Figure 3. This pin diagram can also be found in the <link url="http://www.ti.com/lit/gpn/lm4f232h5qc"><emphasis effect="underline">LM4F232H5QC data sheet</emphasis></link> under the bookmark “Pin Diagram.” </para><figure id="import-auto-id1170827375286"><media id="import-auto-id1170825868016" alt="">
        <image mime-type="image/jpg" src="../../media/graphics2-e93a.jpg" height="485" width="453"/>
      </media>
    </figure><para id="import-auto-id1170829364519">This view is helpful because it identifies the necessary connections to the LM4F232, namely the power supply (VDDx, GNDx), the programming/debugging tool connections (TCK, TMS, TDI, TDO) and some of the key peripheral connections (HIB, USB). However, many of the signals, such as the timer capture/compare pins and analog inputs, are not shown. That granularity is provided in the signal tables in the data sheet. An excerpt from the LM4F232H5QC signal tables is shown in Table 1.</para><para id="eip-738"><media id="import-auto-id1170827150737" alt="">
		<image mime-type="image/png" src="../../media/graphics3-84f8.png" height="232" width="624"/>
	</media>
</para><para id="eip-805"><emphasis effect="bold">Table 1.</emphasis>
 Exerpt from the LM4F232H5QC data sheet showing showing part of the signal table.</para><para id="import-auto-id1170831508656">Using these tables, you can start to map the desired functionality to your design. Figure 4 is a schematic drawing depicting the baseline connections for an LM4F120 design. The LM4F120 and the LM4F232 are actually members of the same device family, so the schematic applies to the part under discussion.</para><figure id="import-auto-id1170827584534"><media id="import-auto-id3214543" alt="">
        <image mime-type="image/jpg" src="../../media/graphics4-f9ff.jpg" height="388" width="810"/>
      </media>
    </figure><para id="import-auto-id1170827608498">Since the LM4F power rail is specified as 3.3 V ± 5 percent, a typical 3.3-V supply will work well. Note the decoupling capacitors on the VDD pins. Signals like WAKE and RESET are connected to user switches that are configured as pullups. A 16-MHz oscillator and 32-kHz oscillator are connected to the MOSC and HIBOSC pins, respectively. </para><para id="import-auto-id1170841874483">Figure 5 goes one step further to demonstrate an example connection to the debugging, USB and user interface signals. </para><figure id="import-auto-id2550427"><media id="import-auto-id1170827551466" alt="">
        <image mime-type="image/jpg" src="../../media/graphics5-cbf2.jpg" height="328" width="811"/>
      </media>
    </figure><para id="import-auto-id1170831640898">Note the connections to the USB connector and the JTAG signals. Since this is a schematic from the <link url="https://estore.ti.com/Stellaris-LaunchPad.aspx"><emphasis effect="underline">Stellairs LaunchPad</emphasis></link> evaluation kit, this also includes the connections to a virtual COM port bus that uses UART on Port A pins 0 and 1 to communicate back to the debugging emulator. The schematic also includes the breakout to the pin headers. These other pin connections can be used to connect all other signals.</para><para id="import-auto-id1170826572714">Now that we have explained the basics of how to include an LM4F device in your system, let’s review the documents you can use to take your design to the next level. </para>
    <list id="import-auto-id1170835268682" list-type="bulleted" bullet-style="bullet"><item>Device-specific data sheet (example: <link url="http://www.ti.com/litv/pdf/spms318c"><emphasis effect="underline">LM4F232H5QC data sheet</emphasis>:</link>) <list id="import-auto-id1170832681999" list-type="bulleted" bullet-style="none"><item>The data sheet includes detailed descriptions of the modules, register descriptions, maximum operating conditions, electrical parameters, performance boundaries and package descriptions for each device. Each part number has its own data sheet.</item></list></item>

    </list><list id="import-auto-id1170827733366" list-type="bulleted" bullet-style="bullet"><item>Device-specific errata (example: <link url="http://www.ti.com/litv/pdf/spmz635c"><emphasis effect="underline">LM4F232H5QC errata</emphasis>:</link>) <list id="import-auto-id1170832682000" list-type="bulleted" bullet-style="none"><item>The errata document is a critical supplement to the data sheet because it lists any bugs that affect the operation of the device, as well as any workarounds. Note that errata vary by revision, so it is important to map the revision of your device to the correct errata document.</item></list></item></list><para id="import-auto-id1170835740515"><title>Data sheet deep dive</title>Beyond the pin diagram and signal tables, let’s highlight some other areas you should focus on when you first look at the data sheet.</para><para id="import-auto-id1170831902530">Boundary and recommended operating conditions</para><list id="import-auto-id2366082" list-type="bulleted"><item>Maximum ratings and recommended operating conditions (Table 2):</item>
    </list><para id="eip-914"><media id="import-auto-id1170835708623" alt="">
		<image mime-type="image/jpg" src="../../media/graphics6-c11a.jpg" height="63" width="387"/>
	</media>
</para><para id="eip-313"><emphasis effect="bold">Table 2.</emphasis>
Table from data sheet showing reccomended operating conditions.</para><para id="import-auto-id1170838874931">The maximum ratings indicate the voltage and current conditions that should not be exceeded, under any condition, without risking damage to the device (Table 3). The recommended operating conditions document the conditions under which the part is guaranteed to operate (Table 4). The minimum and maximum electrical specifications in the data sheet are specified under these conditions. </para><para id="eip-504"><media id="import-auto-id1170825426678" alt="">
		<image mime-type="image/jpg" src="../../media/graphics7-e2ef.jpg" height="187" width="624"/>
	</media>
</para><para id="eip-253"><emphasis effect="bold">Table 3.</emphasis>
 Table in data sheet showing maximum ratings.
</para><para id="eip-76"><media id="import-auto-id1170828074297" alt="">
		<image mime-type="image/jpg" src="../../media/graphics8-0c53.jpg" height="89" width="624"/>
	</media>
</para><para id="eip-768"><emphasis effect="bold">Table 4.</emphasis>
 Recommended operating conditions table from a data sheet.</para><para id="eip-166">Power consumption numbers (Table 5):</para><para id="eip-168"><media id="import-auto-id1170835640172" alt="">
		<image mime-type="image/jpg" src="../../media/graphics9-ec5f.jpg" height="409" width="623"/>
	</media>
</para><para id="eip-862"><emphasis effect="bold">Table 5.</emphasis>
 Power consumption data table from a data sheet.</para><list id="import-auto-id1170832969330" list-type="bulleted"><item>Package information that includes package tolerances is useful when creating device footprints in schematic/PCB CAD tools (Figure 6):</item>
    </list><figure id="import-auto-id1170825898604"><media id="import-auto-id1170835407487" alt="">
        <image mime-type="image/jpg" src="../../media/graphics10.jpg" height="404" width="310"/>
      </media>
    </figure><para id="import-auto-id1170831772200">To select your part, please refer to the series of questions and answers near the end of Section 2.2, "Overview of the MSP430 microcontroller from Texas Instruments," that begins with the question, "What problem am I trying to solve?" You can walk through this process for Stellaris processors just as you can for MSP430 microcontrollers.</para><para id="import-auto-id1170842501128">There are a variety of LM4F devices that will fit a variety of different needs. Sometimes the easiest way to see whether a device is the right one for your application is to get your hands on an evaluation module. In the case of the LM4F232 family, the Stellaris LaunchPad development tool is the recommended kit. </para><para id="import-auto-id1170831696899">The Stellaris LaunchPad evaluation kit costs less than $10 and provides a variety of booster packs to extend its functionality (Figure 7). See <link url="http://www.ti.com/stellaris"><emphasis effect="underline">www.ti.com/stellaris</emphasis></link> to start your design today. </para><figure id="import-auto-id1170825334430">
      <media id="import-auto-id1170834987475" alt="">
        <image mime-type="image/jpg" src="../../media/graphics11-3213.jpg" height="547" width="624"/>
      </media>
    </figure>
  </content>
</document>